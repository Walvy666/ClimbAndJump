-- Membuat ScreenGui
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "AutoHatchGui"
screenGui.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")

-- Membuat Frame utama
local mainFrame = Instance.new("Frame")
mainFrame.Name = "MainFrame"
mainFrame.Parent = screenGui
mainFrame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
mainFrame.Size = UDim2.new(0, 200, 0, 100)
mainFrame.Position = UDim2.new(0.5, -100, 0.5, -50)
mainFrame.Active = true
mainFrame.Draggable = true
mainFrame.BorderSizePixel = 0

-- Membuat Tombol Auto Hatch
local autoHatchButton = Instance.new("TextButton")
autoHatchButton.Name = "AutoHatchButton"
autoHatchButton.Parent = mainFrame
autoHatchButton.Size = UDim2.new(1, -20, 1, -20)
autoHatchButton.Position = UDim2.new(0.5, 0, 0.5, 0)
autoHatchButton.AnchorPoint = Vector2.new(0.5, 0.5)
autoHatchButton.BackgroundColor3 = Color3.fromRGB(80, 80, 80)
autoHatchButton.Text = "Auto Hatch: Off"
autoHatchButton.TextColor3 = Color3.fromRGB(255, 255, 255)
autoHatchButton.TextSize = 24

-- Logika Auto Hatch
local autoHatchOn = false

autoHatchButton.MouseButton1Click:Connect(function()
	autoHatchOn = not autoHatchOn
	if autoHatchOn then
		autoHatchButton.Text = "Auto Hatch: On"
		autoHatchButton.BackgroundColor3 = Color3.fromRGB(0, 255, 0)
	else
		autoHatchButton.Text = "Auto Hatch: Off"
		autoHatchButton.BackgroundColor3 = Color3.fromRGB(80, 80, 80)
	end
end)

game:GetService("RunService").RenderStepped:Connect(function()
    if autoHatchOn then
        local eggsFolder = workspace:FindFirstChild("Eggs")
        if eggsFolder then
            local tradeableEgg = eggsFolder:GetChildren()[1]
            if tradeableEgg then
                local buyEggEvent = game.ReplicatedStorage:FindFirstChild("BuyEgg")
                if buyEggEvent then
                    buyEggEvent:FireServer(tradeableEgg)
                    wait(1) -- Wait for the egg to be purchased
                    local hatchEggEvent = game.ReplicatedStorage:FindFirstChild("HatchEgg")
                    if hatchEggEvent then
                        hatchEggEvent:FireServer(tradeableEgg)
                    end
                end
            end
        end
    end
end)
